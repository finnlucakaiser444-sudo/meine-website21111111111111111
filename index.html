<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚ö° CODE QUEST - 100% KOSTENLOS</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700;800;900&family=Orbitron:wght@700;900&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Fredoka', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #4facfe 75%, #00f2fe 100%);
            background-size: 400% 400%;
            animation: bgShift 15s ease infinite;
            color: #000;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        @keyframes bgShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .screen { display: none; min-height: 100vh; padding: 2rem; }
        .screen.active { display: flex; flex-direction: column; align-items: center; justify-content: center; }
        
        .header {
            text-align: center;
            margin-bottom: 3rem;
            animation: slideDown 0.8s ease-out;
        }
        
        @keyframes slideDown { from { opacity: 0; transform: translateY(-50px); } to { opacity: 1; transform: translateY(0); } }
        
        .title {
            font-family: 'Orbitron', sans-serif;
            font-size: 4rem;
            font-weight: 900;
            background: linear-gradient(45deg, #FF1493, #FFD700, #00CED1, #FF1493);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 3s ease infinite;
            margin-bottom: 1rem;
            text-shadow: 0 0 30px rgba(255, 255, 255, 0.5);
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .subtitle {
            font-size: 1.5rem;
            font-weight: 700;
            color: #fff;
            text-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            margin-bottom: 1rem;
        }
        
        .badge {
            display: inline-block;
            background: linear-gradient(135deg, #FFD700 0%, #FF1493 100%);
            color: #000;
            padding: 1rem 2rem;
            border-radius: 50px;
            font-weight: 900;
            font-size: 1.3rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(255, 20, 147, 0.5);
            border: 3px solid #fff;
            animation: bounce 2s ease-in-out infinite;
        }
        
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
        
        .modes {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            max-width: 1400px;
            width: 100%;
            margin-bottom: 2rem;
        }
        
        .mode-btn {
            background: linear-gradient(135deg, #fff 0%, #f0f0f0 100%);
            border: 4px solid #FFD700;
            border-radius: 30px;
            padding: 2.5rem 2rem;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .mode-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: left 0.6s;
            pointer-events: none;
        }
        
        .mode-btn:hover::before { left: 100%; }
        .mode-btn:hover { transform: translateY(-15px) scale(1.08); box-shadow: 0 25px 60px rgba(255, 20, 147, 0.4); border-color: #FF1493; }
        
        .mode-icon { font-size: 5rem; margin-bottom: 1rem; display: block; animation: iconBounce 2s ease-in-out infinite; }
        @keyframes iconBounce { 0%, 100% { transform: scale(1) rotateZ(0deg); } 50% { transform: scale(1.2) rotateZ(10deg); } }
        .mode-name { font-size: 1.4rem; font-weight: 900; color: #FF1493; margin-bottom: 0.5rem; font-family: 'Orbitron', sans-serif; }
        .mode-desc { font-size: 0.95rem; color: #000; font-weight: 700; }
        
        .editor-container {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
            max-width: 1400px;
            width: 100%;
            margin-bottom: 2rem;
        }
        
        .panel {
            background: linear-gradient(135deg, #fff 0%, #f9f9f9 100%);
            border-radius: 25px;
            padding: 2rem;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
            border: 4px solid #FFD700;
        }
        
        .panel-title {
            font-size: 1.5rem;
            font-weight: 900;
            color: #FF1493;
            margin-bottom: 1.5rem;
            font-family: 'Orbitron', sans-serif;
        }
        
        textarea {
            width: 100%;
            padding: 1.5rem;
            border: 3px solid #FFD700;
            border-radius: 15px;
            font-family: 'Courier New', monospace;
            font-size: 1.2rem;
            font-weight: 600;
            line-height: 1.8;
            background: #1a1a1a;
            color: #00ff00;
            resize: vertical;
            min-height: 500px;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.5), 0 0 20px rgba(255, 215, 0, 0.2);
        }
        
        textarea::placeholder { color: #666; }
        
        .output {
            background: #1a1a1a;
            border-radius: 15px;
            padding: 1.5rem;
            border: 3px solid #FFD700;
            font-family: 'Courier New', monospace;
            font-size: 1rem;
            color: #00ff00;
            min-height: 400px;
            overflow-y: auto;
            font-weight: 600;
            line-height: 1.8;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.5);
        }
        
        .output-line { margin-bottom: 0.8rem; }
        .output-error { color: #ff4444; font-weight: 900; }
        .output-success { color: #00ff00; }
        
        .btn-group {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin-top: 1.5rem;
        }
        
        button {
            flex: 1;
            min-width: 120px;
            padding: 1.2rem 2rem;
            border: none;
            border-radius: 15px;
            font-weight: 900;
            cursor: pointer;
            transition: all 0.4s;
            font-size: 1rem;
            font-family: 'Orbitron', sans-serif;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
        }
        
        button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.3);
            transition: left 0.5s;
        }
        
        button:hover::before { left: 100%; }
        
        .btn-primary {
            background: linear-gradient(135deg, #FF1493 0%, #FF69B4 100%);
            color: white;
            box-shadow: 0 10px 30px rgba(255, 20, 147, 0.4);
        }
        
        .btn-primary:hover { transform: translateY(-4px); box-shadow: 0 15px 45px rgba(255, 20, 147, 0.6); }
        
        .btn-secondary {
            background: linear-gradient(135deg, #00CED1 0%, #00BFFF 100%);
            color: white;
            box-shadow: 0 10px 30px rgba(0, 206, 209, 0.4);
        }
        
        .btn-secondary:hover { transform: translateY(-4px); box-shadow: 0 15px 45px rgba(0, 206, 209, 0.6); }
        
        .back-btn {
            background: linear-gradient(135deg, #00CED1 0%, #00BFFF 100%);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 15px;
            font-weight: 900;
            cursor: pointer;
            font-size: 1rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0, 206, 209, 0.4);
            transition: all 0.4s;
        }
        
        .back-btn:hover { transform: translateY(-4px); box-shadow: 0 15px 45px rgba(0, 206, 209, 0.6); }
        
        .game-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .game-tile {
            background: linear-gradient(135deg, #FF1493 0%, #FF69B4 100%);
            color: white;
            padding: 2rem;
            border-radius: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 10px 30px rgba(255, 20, 147, 0.3);
            font-weight: 900;
            font-size: 1.1rem;
            border: 3px solid #fff;
        }
        
        .game-tile:hover { transform: scale(1.1); box-shadow: 0 15px 45px rgba(255, 20, 147, 0.5); }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 5000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .modal.active { display: flex; }
        
        .modal-content {
            background: linear-gradient(135deg, #fff 0%, #f5f5f5 100%);
            border-radius: 30px;
            padding: 3rem;
            max-width: 600px;
            width: 100%;
            text-align: center;
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.5);
            border: 4px solid #FFD700;
            animation: popIn 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        @keyframes popIn { 0% { transform: scale(0.5) rotateZ(-10deg); opacity: 0; } 100% { transform: scale(1) rotateZ(0); opacity: 1; } }
        
        .modal-icon { font-size: 5rem; margin-bottom: 1rem; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotateZ(0deg) scale(1); } 50% { transform: rotateZ(180deg) scale(1.1); } 100% { transform: rotateZ(360deg) scale(1); } }
        .modal-title { font-size: 2rem; font-weight: 900; color: #FF1493; margin-bottom: 1rem; font-family: 'Orbitron', sans-serif; }
        .modal-text { color: #000; font-size: 1.1rem; font-weight: 700; margin-bottom: 2rem; }
        
        @media (max-width: 1024px) { .editor-container { grid-template-columns: 1fr; } }
        @media (max-width: 768px) { .title { font-size: 2.5rem; } .modes { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <!-- Home Screen -->
    <div id="homeScreen" class="screen active">
        <div class="header">
            <div class="title">‚ö° CODE QUEST ‚ö°</div>
            <div class="subtitle">Lerne Programmieren spielerisch!</div>
            <div class="badge">üéâ 100% KOSTENLOS üéâ</div>
        </div>
        
        <div class="modes">
            <button class="mode-btn" onclick="goToMode('html')">
                <span class="mode-icon">üåê</span>
                <span class="mode-name">HTML & CSS</span>
                <span class="mode-desc">Erstelle Webseiten</span>
            </button>
            
            <button class="mode-btn" onclick="goToMode('js')">
                <span class="mode-icon">‚öôÔ∏è</span>
                <span class="mode-name">JavaScript</span>
                <span class="mode-desc">Code schreiben</span>
            </button>
            
            <button class="mode-btn" onclick="goToMode('quiz')">
                <span class="mode-icon">üß†</span>
                <span class="mode-name">Code Quiz</span>
                <span class="mode-desc">Wissen testen</span>
            </button>
            
            <button class="mode-btn" onclick="goToMode('challenges')">
                <span class="mode-icon">üèÜ</span>
                <span class="mode-name">Aufgaben</span>
                <span class="mode-desc">10 spannende Level</span>
            </button>
            
            <button class="mode-btn" onclick="openHelp()" style="background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);">
                <span class="mode-icon">üìö</span>
                <span class="mode-name">Hilfe & Tutorials</span>
                <span class="mode-desc">YouTube Tutorials ansehen</span>
            </button>
        </div>
    </div>

    <!-- HTML Mode -->
    <div id="htmlScreen" class="screen">
        <button class="back-btn" onclick="backHome()">‚Üê ZUR√úCK</button>
        <div class="header">
            <div class="title">üåê HTML & CSS</div>
            <div class="subtitle">Erstelle deine erste Webseite!</div>
        </div>
        
        <div class="editor-container">
            <div class="panel">
                <div class="panel-title">üíª CODE</div>
                <textarea id="htmlCode" placeholder="Schreib HTML & CSS..."><!DOCTYPE html>
<html>
<head>
    <style>
        body { background: #FF1493; color: white; }
        h1 { text-align: center; }
    </style>
</head>
<body>
    <h1>üéâ Hallo Welt!</h1>
</body>
</html></textarea>
                <div class="btn-group">
                    <button class="btn-primary" onclick="runHTML()">‚ñ∂ VORSCHAU</button>
                    <button class="btn-secondary" onclick="clearHTML()">üóëÔ∏è L√ñSCHEN</button>
                </div>
            </div>
            
            <div class="panel">
                <div class="panel-title">üëÅÔ∏è VORSCHAU</div>
                <div id="htmlPreview" class="output" style="background: white; color: #000; min-height: 500px; border: 3px solid #FFD700;">Klick VORSCHAU um deine Webseite zu sehen!</div>
            </div>
        </div>
    </div>

    <!-- JavaScript Mode -->
    <div id="jsScreen" class="screen">
        <button class="back-btn" onclick="backHome()">‚Üê ZUR√úCK</button>
        <div class="header">
            <div class="title">‚úçÔ∏è JAVASCRIPT</div>
            <div class="subtitle">Schreib deinen Code!</div>
        </div>
        
        <div class="editor-container">
            <div class="panel">
                <div class="panel-title">üíª CODE</div>
                <textarea id="jsCode" placeholder="Schreib JavaScript...">console.log('Hallo Welt!');</textarea>
                <div class="btn-group">
                    <button class="btn-primary" onclick="runJS()">‚ñ∂ AUSF√úHREN</button>
                    <button class="btn-secondary" onclick="clearJS()">üóëÔ∏è L√ñSCHEN</button>
                </div>
            </div>
            
            <div class="panel">
                <div class="panel-title">üì§ AUSGABE</div>
                <div id="jsOutput" class="output">Hier wird die Ausgabe angezeigt...</div>
            </div>
        </div>
    </div>

    <!-- Quiz Mode -->
    <div id="quizScreen" class="screen">
        <button class="back-btn" onclick="backHome()">‚Üê ZUR√úCK</button>
        <div class="header">
            <div class="title">üíª CODE QUIZ</div>
            <div class="subtitle">Teste dein Programmier-Wissen!</div>
        </div>
        
        <div class="panel" style="max-width: 800px; width: 100%;">
            <div id="quizQuestion" style="background: #1a1a1a; color: #00ff00; padding: 2rem; border-radius: 15px; margin-bottom: 2rem; font-family: 'Courier New', monospace; font-weight: 700; font-size: 1.1rem; border: 3px solid #FFD700;"></div>
            
            <div id="quizOptions" class="game-grid"></div>
            
            <div id="quizMessage" style="color: #FF1493; font-size: 1.2rem; font-weight: 900; margin-bottom: 2rem;"></div>
            
            <div class="btn-group">
                <button class="btn-primary" onclick="nextQuiz()">‚Üí N√ÑCHSTE</button>
                <button class="btn-secondary" onclick="startQuiz()">üîÑ NEUES SPIEL</button>
            </div>
            
            <div style="color: #000; font-size: 1.2rem; font-weight: 900; margin-top: 2rem;">Punkte: <span id="quizScore">0</span>/10</div>
        </div>
    </div>

    <!-- Challenges Mode -->
    <div id="challengesScreen" class="screen">
        <button class="back-btn" onclick="backHome()">‚Üê ZUR√úCK</button>
        <div class="header">
            <div class="title">üéØ AUFGABEN</div>
            <div class="subtitle">Repariere den Code!</div>
        </div>
        
        <div class="editor-container">
            <div class="panel">
                <div class="panel-title">üìù AUFGABE</div>
                <div id="challengeTitle" style="color: #FF1493; font-size: 1.3rem; font-weight: 900; margin-bottom: 1rem;"></div>
                <div id="challengeDesc" style="color: #000; font-size: 1.1rem; font-weight: 700; margin-bottom: 1.5rem;"></div>
                <div id="hintBox" style="background: #FFD700; color: #000; padding: 1rem; border-radius: 15px; margin-bottom: 1.5rem; display: none; font-weight: 700;">
                    üí° <span id="hintText"></span>
                </div>
                <textarea id="challengeCode" style="min-height: 200px;"></textarea>
                <div class="btn-group">
                    <button class="btn-primary" onclick="runChallenge()">‚ñ∂ TESTEN</button>
                    <button class="btn-secondary" onclick="showHint()">üí° TIPP</button>
                </div>
            </div>
            
            <div class="panel">
                <div class="panel-title">üì§ AUSGABE</div>
                <div id="challengeOutput" class="output">Hier wird die Ausgabe angezeigt...</div>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="successModal" class="modal">
        <div class="modal-content">
            <div class="modal-icon">üéâ</div>
            <div class="modal-title">GL√úCKWUNSCH!</div>
            <div class="modal-text" id="successText"></div>
            <button class="btn-primary" onclick="closeModal()">‚úì OK</button>
        </div>
    </div>

    <script>
        const challenges = [
            { title: 'Hallo Welt', desc: 'Schreib "Hallo"', hint: 'console.log("Hallo")', code: 'console.log(Hallo);', test: (o) => o.includes('Hallo') },
            { title: 'Plus rechnen', desc: 'Berechne 3 + 2', hint: 'console.log(3 + 2)', code: 'console.log(3 2);', test: (o) => o.includes('5') },
            { title: 'Mal rechnen', desc: 'Berechne 4 * 5', hint: 'console.log(4 * 5)', code: 'console.log(4 + 5);', test: (o) => o.includes('20') },
            { title: 'Variable', desc: 'Speichere "Max"', hint: 'let x = "Max"; console.log(x);', code: 'let x = "Max"\nconsole.log(x);', test: (o) => o.includes('Max') },
            { title: 'Wenn-Bedingung', desc: 'Wenn 5 > 3, schreib "Ja"', hint: 'if (5 > 3) { console.log("Ja"); }', code: 'if (5 < 3) { console.log("Ja"); }', test: (o) => o.includes('Ja') },
            { title: 'Schleife', desc: 'Schreib "Hi" 3 mal', hint: 'for (let i = 0; i < 3; i++) { console.log("Hi"); }', code: 'for (let i = 0; i < 3;) { console.log("Hi"); }', test: (o) => (o.match(/Hi/g) || []).length === 3 },
            { title: 'Array', desc: 'Gib a[0] aus', hint: 'let a = ["A", "B"]; console.log(a[0]);', code: 'let a = ["A", "B"]; console.log(a[1]);', test: (o) => o.includes('A') },
            { title: 'Funktion', desc: 'Schreib function f() { return 10; }', hint: 'function f() { return 10; } console.log(f());', code: 'function f() { 10; } console.log(f());', test: (o) => o.includes('10') },
            { title: 'Objekt', desc: 'Gib obj.name aus', hint: 'let obj = {name: "Tom"}; console.log(obj.name);', code: 'let obj = {name: "Tom"}; console.log(obj);', test: (o) => o.includes('Tom') },
            { title: 'Z√§hlen', desc: 'Z√§hle 1 bis 5', hint: 'for (let i = 1; i <= 5; i++) { console.log(i); }', code: 'for (let i = 1; i < 5; i++) { console.log(i); }', test: (o) => (o.match(/[1-5]/g) || []).length >= 5 }
        ];

        const quizzes = [
            { q: 'let x = 5;\nconsole.log(x + 3);', opts: ['5', '8', '53', 'Error'], ans: 1 },
            { q: 'let arr = [1, 2, 3];\nconsole.log(arr[0]);', opts: ['1', '2', '3', 'undefined'], ans: 0 },
            { q: 'for (let i = 0; i < 3; i++) {}\nconsole.log(i);', opts: ['0', '3', 'undefined', 'Error'], ans: 1 },
            { q: 'function f() { return 10; }\nconsole.log(f());', opts: ['10', 'undefined', 'f', 'Error'], ans: 0 },
            { q: 'let x = "5";\nconsole.log(x + 3);', opts: ['8', '53', '5', 'Error'], ans: 1 },
            { q: 'if (5 > 3) { console.log("Ja"); }', opts: ['Ja', 'undefined', 'Error', 'false'], ans: 0 },
            { q: 'let obj = {name: "Tom"};\nconsole.log(obj.age);', opts: ['Tom', 'undefined', 'Error', 'null'], ans: 1 },
            { q: '[1, 2, 3].length', opts: ['3', '2', '1', 'undefined'], ans: 0 },
            { q: 'true && false', opts: ['true', 'false', 'undefined', 'Error'], ans: 1 },
            { q: '"Hello".length', opts: ['5', '4', 'undefined', 'Error'], ans: 0 }
        ];

        let currentChallenge = 0;
        let currentQuiz = 0;
        let quizScore = 0;

        function goToMode(mode) {
            document.getElementById('homeScreen').classList.remove('active');
            document.getElementById(mode + 'Screen').classList.add('active');
            if (mode === 'quiz') startQuiz();
            if (mode === 'challenges') loadChallenge();
        }

        function backHome() {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById('homeScreen').classList.add('active');
        }

        function runHTML() {
            const code = document.getElementById('htmlCode').value;
            const preview = document.getElementById('htmlPreview');
            try {
                preview.innerHTML = code;
            } catch (e) {
                preview.innerHTML = '<div style="color: red; font-weight: 900;">Fehler: ' + e.message + '</div>';
            }
        }

        function clearHTML() {
            document.getElementById('htmlCode').value = '';
            document.getElementById('htmlPreview').innerHTML = 'Klick VORSCHAU um deine Webseite zu sehen!';
        }

        function runJS() {
            const code = document.getElementById('jsCode').value;
            const output = [];
            const log = console.log;
            console.log = (...args) => output.push(args.join(' '));
            try {
                eval(code);
                console.log = log;
                document.getElementById('jsOutput').innerHTML = output.map(o => '<div class="output-line output-success">' + o + '</div>').join('');
            } catch (e) {
                console.log = log;
                document.getElementById('jsOutput').innerHTML = '<div class="output-line output-error">FEHLER: ' + e.message + '</div>';
            }
        }

        function clearJS() {
            document.getElementById('jsCode').value = '';
            document.getElementById('jsOutput').innerHTML = 'Hier wird die Ausgabe angezeigt...';
        }

        function startQuiz() {
            currentQuiz = 0;
            quizScore = 0;
            loadQuiz();
        }

        function loadQuiz() {
            if (currentQuiz >= quizzes.length) {
                document.getElementById('quizQuestion').textContent = 'Spiel vorbei!';
                document.getElementById('quizOptions').innerHTML = '';
                document.getElementById('quizMessage').textContent = 'Du hast ' + quizScore + '/' + quizzes.length + ' Punkte!';
                return;
            }
            const q = quizzes[currentQuiz];
            document.getElementById('quizQuestion').textContent = q.q;
            document.getElementById('quizOptions').innerHTML = q.opts.map((o, i) => '<button class="game-tile" onclick="answerQuiz(' + i + ')">' + o + '</button>').join('');
            document.getElementById('quizMessage').textContent = '';
            document.getElementById('quizScore').textContent = quizScore;
        }

        function answerQuiz(idx) {
            const q = quizzes[currentQuiz];
            if (idx === q.ans) {
                quizScore++;
                document.getElementById('quizMessage').textContent = '‚úÖ RICHTIG!';
            } else {
                document.getElementById('quizMessage').textContent = '‚ùå FALSCH! Richtig: ' + q.opts[q.ans];
            }
            document.querySelectorAll('#quizOptions button').forEach(b => b.disabled = true);
        }

        function nextQuiz() {
            currentQuiz++;
            loadQuiz();
        }

        function loadChallenge() {
            const c = challenges[currentChallenge];
            document.getElementById('challengeTitle').textContent = c.title;
            document.getElementById('challengeDesc').textContent = c.desc;
            document.getElementById('challengeCode').value = c.code;
            document.getElementById('hintBox').style.display = 'none';
            document.getElementById('hintText').textContent = c.hint;
        }

        function showHint() {
            document.getElementById('hintBox').style.display = 'block';
        }

        function runChallenge() {
            const c = challenges[currentChallenge];
            const code = document.getElementById('challengeCode').value;
            const output = [];
            const log = console.log;
            console.log = (...args) => output.push(args.join(' '));
            try {
                eval(code);
                console.log = log;
                const result = output.join('\n');
                document.getElementById('challengeOutput').innerHTML = '<div class="output-line output-success">' + result + '</div>';
                if (c.test(result)) {
                    document.getElementById('successText').textContent = '+100 PUNKTE!';
                    document.getElementById('successModal').classList.add('active');
                    currentChallenge++;
                    if (currentChallenge >= challenges.length) currentChallenge = 0;
                } else {
                    document.getElementById('challengeOutput').innerHTML = '<div class="output-line output-error">FALSCH!</div>';
                }
            } catch (e) {
                console.log = log;
                document.getElementById('challengeOutput').innerHTML = '<div class="output-line output-error">FEHLER: ' + e.message + '</div>';
            }
        }

        function closeModal() {
            document.getElementById('successModal').classList.remove('active');
            loadChallenge();
        }

        function openHelp() {
            window.open('https://www.youtube.com/channel/UCB_FqulKFZJZmIwNlR6q1xg', '_blank');
        }
    </script>
</body>
</html>
